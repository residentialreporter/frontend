{"version":3,"sources":["webpack:///src/app/pages/registration/registration-page.component.ts","webpack:///src/app/components/registration/registration.component.scss","webpack:///src/app/pages/registration/registration-routing.module.ts","webpack:///src/app/components/registration/registration.component.html","webpack:///src/app/components/registration/registration.component.ts","webpack:///src/app/pages/registration/registration-page.component.html","webpack:///src/app/pages/registration/registration.module.ts"],"names":["RegistrationPageComponent","selector","template","routes","path","component","RegistrationPageRoutingModule","imports","forChild","exports","RegistrationComponent","fb","route","router","userService","registrationForm","address","username","password","passwordConfirm","returnUrl","snapshot","queryParams","group","required","formSubmitAttempt","valid","get","value","register","addressInvalid","RegistrationPageModule","declarations"],"mappings":"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","file":"residentialreporter-pages-registration-registration-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from '@residentialreporter/services/user/user.service';\n\n@Component({\n    selector: 'app-registration-page',\n    templateUrl: 'registration-page.component.html',\n})\nexport class RegistrationPageComponent implements OnInit {\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n}\n","export default \"mat-card {\\n  max-width: 400px;\\n  margin: 2em auto;\\n  text-align: center;\\n}\\n\\nmat-form-field {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJtYXQtY2FyZCB7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbjogMmVtIGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxubWF0LWZvcm0tZmllbGQge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuIl19 */\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { RegistrationPageComponent } from './registration-page.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: RegistrationPageComponent,\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class RegistrationPageRoutingModule {\n}\n","export default \"<mat-card>\\n    <mat-card-content>\\n        <form (ngSubmit)=\\\"onSubmit()\\\" [formGroup]=\\\"registrationForm\\\">\\n            <h2>{{'Registration' | translate}}</h2>\\n\\n            <mat-form-field class=\\\"full-width-input\\\">\\n                <input formControlName=\\\"address\\\"\\n                       matInput\\n                       placeholder=\\\"{{'Email address' | translate}}\\\"\\n                       required>\\n                <mat-error>\\n                    {{'Please provide a valid email address' | translate}}\\n                </mat-error>\\n            </mat-form-field>\\n            <mat-form-field class=\\\"full-width-input\\\">\\n                <input formControlName=\\\"username\\\"\\n                       matInput\\n                       placeholder=\\\"{{'Username' | translate}}\\\"\\n                       required>\\n                <mat-error>\\n                    {{'Please provide a valid username' | translate}}\\n                </mat-error>\\n            </mat-form-field>\\n            <mat-form-field class=\\\"full-width-input\\\">\\n                <input formControlName=\\\"password\\\"\\n                       matInput\\n                       placeholder=\\\"{{'Password' | translate}}\\\"\\n                       required\\n                       type=\\\"password\\\">\\n                <mat-error>\\n                    {{'Please provide a valid password' | translate}}\\n                </mat-error>\\n            </mat-form-field>\\n            <mat-form-field class=\\\"full-width-input\\\">\\n                <input formControlName=\\\"passwordConfirm\\\"\\n                       matInput\\n                       placeholder=\\\"{{'Password confirm' | translate}}\\\"\\n                       required\\n                       type=\\\"password\\\">\\n                <mat-error>\\n                    {{'Please confirm your password' | translate}}\\n                </mat-error>\\n            </mat-form-field>\\n            <button color=\\\"primary\\\" mat-raised-button>{{'Register!' | translate}}</button>\\n            {{ '* required' | translate}}\\n        </form>\\n    </mat-card-content>\\n</mat-card>\\n\\n\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from '../../services/user/user.service';\n\n@Component({\n    selector: 'app-registration-component',\n    templateUrl: './registration.component.html',\n    styleUrls: ['./registration.component.scss']\n})\n\nexport class RegistrationComponent implements OnInit {\n    registrationForm: FormGroup = new FormGroup({\n        address: new FormControl(),\n        username: new FormControl(),\n        password: new FormControl(),\n        passwordConfirm: new FormControl(),\n    });\n    public addressInvalid: boolean;\n    private formSubmitAttempt: boolean;\n    private returnUrl: string;\n\n    constructor(\n        private fb: FormBuilder,\n        private route: ActivatedRoute,\n        private router: Router,\n        private userService: UserService\n    ) {\n    }\n\n    async ngOnInit() {\n        this.returnUrl = this.route.snapshot.queryParams.returnUrl || '/home';\n        this.registrationForm = this.fb.group({\n            address: ['', Validators.required],\n            username: ['', Validators.required],\n            password: ['', Validators.required],\n            passwordConfirm: ['', Validators.required],\n        });\n\n        // if (await this.userService.checkAuthenticated()) {\n        //    await this.router.navigate([this.returnUrl]);\n        // }\n    }\n\n    async onSubmit() {\n        this.formSubmitAttempt = false;\n        if (this.registrationForm.valid) {\n            try {\n                const address = this.registrationForm.get('address').value;\n                const username = this.registrationForm.get('username').value;\n                const password = this.registrationForm.get('password').value;\n                const passwordConfirm = this.registrationForm.get('passwordConfirm').value;\n\n                await this.userService.register(address, username, password, passwordConfirm);\n            } catch (err) {\n                this.addressInvalid = true;\n            }\n        } else {\n            this.formSubmitAttempt = true;\n        }\n    }\n}\n\n","export default \"<app-registration-component></app-registration-component>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { RegistrationPageComponent } from './registration-page.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\nimport { RegistrationPageRoutingModule } from './registration-routing.module';\nimport { MatInputModule } from '@angular/material/input';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RegistrationComponent } from '@residentialreporter/components/registration/registration.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        MatButtonModule,\n        MatCardModule,\n        MatFormFieldModule,\n        MatInputModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        RegistrationPageRoutingModule\n    ],\n    declarations: [RegistrationPageComponent, RegistrationComponent]\n})\nexport class RegistrationPageModule {\n}\n"]}